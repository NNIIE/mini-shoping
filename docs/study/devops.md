# User Flow - SPA
1. **DNS (Route 53)**
   - 도메인 이름 -> IP 주소 응답

3. **CDN (S3, CloudFront)**
   - 정적 컨텐츠 자원 (이미지, CSS ..)

4. **로드밸런서 (ALB)**
   - 경로 기반 라우팅

5. **컨테이너 오케스트레이션 (ECS)**
   - Task Definition에 따라 컨테이너 실행

6. **어플리케이션**
    - 비즈니스 로직 실행

7. **Storage (RDS, ElastiCache ...)**
    - VPC 내부 통신 (보안 그룹으로 제어)

8. **응답 반환**
    - Storage -> ECS -> ALB -> CDN -> 유저의 웹/앱


<br>


# AWS
##### IAM
- AWS 리소스에 누가, 무엇을, 어떻게 접근할지에 대한 권한을 관리
##### VPC
- 논리적으로 분리된 가상 데이터센터
##### Subnet
- VPC 내에서 리소스를 가용 영역 단위로 분리하기 위해 도입
- public
    - 라우트 테이블에 엔트리 포함
    - 직접적인 인터넷 접근 가능
    - 퍼블릭 IP 또는 EIP를 할당하면 외부와 양방향 통신 가능
- private
    - 라우트 테이블에 게이트웨이 경로 X
    - 외부로부터 직접 접근 차단
    - 외부연결이 필요하면 NAT Gateway 경유
##### IGW (Internet Gateway)
- VPC 리소스에 퍼블릭 인터넷을 연결하기 위해 도입된 완전 관리형 컴포넌트
##### NAT Gateway
- private 서브넷 인스턴스가 보안은 유지하면서 최신 OS 패치, 서드파티 API 호출등을 위해 아웃바운드 인터넷 접속을 필요로 해서 도입
- 퍼블릭 서브넷에 생성하며 EIP(Elastic IP)를 할당해야 함


<br>


# ECS
Elastic Container Service  - 어플리케이션을 도커 컨테이너로 만들어서 AWS 클라우드에서 실행하고 관리해주는 서비스
##### 필요성
- 예전엔 서버에 직접 JAR파일을 배포
    - 언어 버전, 라이브러리 의존성 충돌 발생
    - 확장시 일일이 서버를 설정해야 함
- Docker
    - 어플리케이션, 라이브러리, 설정등을 하나의 패키지로 묶어서 어디서든 동일하게 실행할 수 있게 됨 - 컨테이너 화
    - 여러개의 컨테이너를 관리하는 것은 또다른 복잡성을 가져옴
- 이러한 컨테이너들을 효율적으로 관리하기 위해 AWS에서 나온 서비스
##### 구성
- ESC Cluster
    - 컨테이너들이 실행될 컴퓨팅 리소스들의 논리적인 그룹
    - EC2 인스턴스들이 모여있는 집합
- ECS Task
    - 하나 이상의 컨테이너를 실행하는 단위
    - 예를들면 스프링부트 어플리케이션 하나하나가 Task가 되는 것
- Task Definition
  - CPU, 메모리, 포트, 환경번수 등을 정의
- ECS Service
    - 지정된 수의 Task들이 항상 실행되도록 보장하는 역할을 함
    - Task가 죽으면 자동으로 새로운 Task를 띄움
        - 예를들어 CPU 사용률이 임계점을 넘으면 Task늘리고 임계점 이하면 Task를 줄임
    - 로드밸런서와 연동하여 트래픽 분산
- ECR
    - 도커 허브와 같은 AWS의 컨테이너 이미지 저장소
- Fargate
    - 서버리스 방식으로 AWS가 인스턴스 관리
    - 자동 스케일링


<br>


# CI / CD
- 지속적 통합 / 지속적 배포
- 자동으로 빌드, 테스트, 배포까지 이어지는 자동화 파이프라인

### CI/CD Tools
# CI/CD Tools Comparison

아래 표는 주요 CI/CD 기술 3가지에 대해 **동작 원리**, **장점**, **단점**, **트레이드오프**, **비용**, **설정 및 관리**, **Java & Spring 최적화** 관점에서 비교한 내용입니다.

| 구분             | **AWS CodePipeline + CodeBuild + CodeDeploy**                                                                                                                                                             | **Jenkins**                                                                                                                                                                                                         | **GitLab CI/CD**                                                                                                                                                                                                                                 |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **동작 원리**    | 1. CodePipeline이 Git/S3 이벤트 감지<br>2. CodeBuild가 `buildspec.yml` 대로 Docker 빌드·테스트 후 ECR 푸시<br>3. CodeDeploy(ECS)가 새 Task Definition 생성·ECS Service 업데이트로 배포                           | 1. GitHub/GitLab Webhook 수신<br>2. Master 노드가 에이전트 스케줄링<br>3. 에이전트가 `Jenkinsfile` 기반 빌드→테스트→배포 파이프라인 실행<br>4. AWS CLI/SSH로 서버·클러스터 배포                                 | 1. `.gitlab-ci.yml` 커밋 시 파이프라인 트리거<br>2. GitLab Runner가 Stage별 Job 실행(Docker Executor)<br>3. 각 Job 후 AWS/GCP 등 외부로 배포                                                                                                  |
| **장점**        | - 완전관리형 서버리스, 운영 부담 거의 없음<br>- IAM 통합 관리·VPC 엔드포인트 보안 강화                                                                                                                            | - 방대한 플러그인 생태계·높은 커스터마이징 자유도<br>- 온프레·클라우드 어디서나 운영 가능                                                                                                                               | - GitLab 내장 CI/CD로 별도 서버 불필요<br>- YAML 설정 단순·명료<br>- Docker Executor로 환경 일관성 보장                                                                                                                                        |
| **단점**        | - AWS 생태계 종속적<br>- 복잡 파이프라인 UI 한계·세부 커스터마이징 제약                                                                                                                                           | - 서버·에이전트 직접 관리 필요(업데이트·보안 패치 등)<br>- 플러그인 충돌·버전 관리 이슈<br>- 초기 설정 복잡                                                                                                             | - Runner 스케일링·보안 관리 필요<br>- 대규모 병렬 처리 시 유료 플랜 필요<br>- 자체 호스팅 업그레이드 시 주의사항                                                                                                                               |
| **비용**        | - CodePipeline: 파이프라인당 \$1/월 + 실행당 소액 전환 비용<br>- CodeBuild: 빌드 분당 약 \$0.005 (Linux standard)<br>- CodeDeploy: 배포당 소액 과금(무료 계층 이후)                                            | - 인프라 비용: EC2 인스턴스/온프레 서버 운영비<br>- 플러그인 라이선스/서드파티 서비스 비용 별도 발생 가능                                                                                  | - GitLab.com 무료 Tier: 월 400 CI분, 추가 분당 \$0.008<br>- Self-hosted: Runner 인프라(서버·컨테이너) 운영비<br>- Premium/Ultimate 플랜: 사용자당 월 \$19~/\$99~                                                   |
| **설정 및 관리** | - **설정**: AWS 콘솔 또는 IaC(Terraform/CDK)로 파이프라인, 빌드 프로젝트, 배포 설정 정의<br>- **모니터링**: CloudWatch 이벤트/알람, CodePipeline 대시보드<br>- **관리**: IAM Role 최소 권한, VPC Endpoint 연결로 보안 강화 | - **설정**: `Jenkinsfile`로 코드 기반 파이프라인 정의, 플러그인 설치·관리<br>- **모니터링**: Blue Ocean 플러그인, Prometheus+Grafana 연동<br>- **관리**: Master/Agent 백업, Docker 기반 Agent로 무중단 업그레이드 | - **설정**: `.gitlab-ci.yml`로 파이프라인 단계 정의, Runner 태그 관리<br>- **모니터링**: GitLab Pipeline 뷰, Metrics 대시보드<br>- **관리**: Runner Auto-scale 설정, 컨테이너 캐시 전략으로 속도 최적화 |
| **Java & Spring 최적화** | - 빌드 최적화<br>- 테스트 최적화<br>- 배포 최적화<br>- 모니터링/로깅 | - | -  |


<br>

# 다이어 그램

